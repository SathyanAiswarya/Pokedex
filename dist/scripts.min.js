let pokemonRepository=(()=>{let f=[],a=()=>fetch("https://pokeapi.co/api/v2/pokemon/?limit=150",{method:"GET"}).then(a=>a.json()).then(a=>{a.results.forEach(a=>{b({name:a.name,detailsUrl:a.url})})}).catch(a=>{document.write("This Pokemon doesn't exists. The error is :",a)}),b=a=>f.push(a),c=b=>{let e=document.querySelector(".list-group"),c=document.createElement("li"),a=document.createElement("button"),f=b.name.charAt(0).toUpperCase()+b.name.slice(1);a.innerText=f,a.classList.add("btn","btn-secondary","btn-lg","btn-block","list-group-item","list-group-item-action","list-group-item-danger"),a.dataset.toggle="modal",a.dataset.target="#exampleModal",c.appendChild(a),e.appendChild(c),a.addEventListener("click",()=>{d(b).then(a=>{g(f,a.image,a.height)})})},g=(d,e,f)=>{let a=$(".modal-body"),b=$(".modal-title");b.empty(),a.empty();let g=$("<h1>"+d+"</h1>"),c=$('<img class="modal-img">');c.attr("src",e);let h="<p>Height "+f+"</p>";b.append(g),a.append(c),a.append(h)};function h(){let a=document.querySelector(".modal-container");a.classList.remove("is-visible"),a.parentElement.removeChild(a)}window.addEventListener("keydown",a=>{let b=document.querySelector(".modal-container");"Escape"===a.key&&b&&h()}),window.addEventListener("click",b=>{let a=document.querySelector(".modal-container");a&&!a.contains(b.target)&&b.tagert!==a&&h()});let d=a=>e(a).then(a=>a),e=a=>fetch(a.detailsUrl,{method:"GET"}).then(a=>a.json()).then(a=>{let b={image:a.sprites.front_default,height:a.height,types:a.types};return b}).catch(a=>{document.write("The requested Pokemon doesn't exists. The error is :",a)});return{getAll:()=>f,add:b,addListItem:c,loadList:a,loadDetails:e,showDetails:d}})();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(a=>{pokemonRepository.addListItem(a)})})